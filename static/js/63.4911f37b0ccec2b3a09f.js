(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{"+oLw":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o(a("EVdn"));var n=o(a("8Ru8"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{daterange:"",region:""}},created:function(){},components:{},mounted:function(){this.$nextTick((function(){setTimeout((function(){n.default.klineInit()}),2e3)}))},methods:{onSubmit:function(){}}}},"32st":function(t,e,a){"use strict";a.r(e);var n=a("nZXo"),o=a("xX+7");for(var r in o)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return o[t]}))}(r);a("HmW5");var i=a("KHd+"),l=Object(i.a)(o.default,n.a,n.b,!1,null,"b0c2dfe4",null);e.default=l.exports},"55Ly":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dealEndData=e.splitData=e.dealDataTo=e.calcMACD=e.getMarketData=void 0;var n,o,r,i,l,s=a("EVdn"),c=(n=s)&&n.__esModule?n:{default:n};function l(t,e,a,n,o){var l,s,c,u,d,f;for(f={},d=[],c=r(t,e,n,o),u=i(a,c),l=0,s=n.length;l<s;l++)d.push(2*(c[l]-u[l]));return f.dif=c,f.dea=u,f.macd=d,f}r=function(t,e,a,n){var r,i,l,s,c;for(l=[],s=o(t,a,n),c=o(e,a,n),r=0,i=a.length;r<i;r++)l.push(s[r]-c[r]);return l},i=function(t,e){return o(t,e)},o=function(t,e,a){var n,o,r,i;if(i=2/(t+1),a)for(r=[e[0][a]],n=1,o=e.length;n<o;n++)r.push(i*e[n][a]+(1-i)*r[n-1]);else for(r=[e[0]],n=1,o=e.length;n<o;n++)r.push(i*e[n]+(1-i)*r[n-1]);return r},e.calcMACD=l=function(t,e,a,n,o){var l,s,c,u,d,f;for(f={},d=[],c=r(t,e,n,o),u=i(a,c),l=0,s=n.length;l<s;l++)d.push(2*(c[l]-u[l]));return f.dif=c,f.dea=u,f.macd=d,f},e.getMarketData=function(t,e,a){var n=c.default.ajax({url:"https://api.doctorxiong.club/v1/stock/kline/day?code="+t+"&startDate="+e+"&endDate="+a,async:!1});return JSON.parse(n.responseText).data},e.calcMACD=l,e.dealDataTo=function(t){var e=[];return t.forEach((function(t){var a={open:t[1],close:t[2],low:t[3],high:t[4],date:t[0],num:t[5]};e.push(a)})),e},e.splitData=function(t){for(var e=[],a=[],n=[],o=[],r=[],i=[],l=0;l<t.length;l++)e.push(t[l]),a.push(t[l].splice(0,1)[0]),n.push(t[l][4]),o.push(t[l][6]),r.push(t[l][7]),i.push(t[l][8]);return{datas:e,times:a,vols:n,macds:o,difs:r,deas:i}},e.dealEndData=function(t,e){var a=[];return t.forEach((function(t,n){var o=[t[0],parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4]),parseFloat(t[5]),parseFloat(t[1])-parseFloat(t[2])>0?0:1,e.macd[n],e.dif[n],e.dea[n]];a.push(o)})),a}},"8Ru8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("55Ly"),o=[["2015/12/31","3570.47","3539.18","-33.69","-0.94%","3538.35","3580.6","176963664","25403106","-"]].reverse();function r(t,e){for(var a=[],n=0,o=e.length;n<o;n++)if(n<t)a.push("-");else{for(var r=0,i=0;i<t;i++)r+=+e[n-i][1];a.push(r/t)}return a}var i=(o=(0,n.getMarketData)("sh000001","2020-01-05","2022-03-24")).map((function(t){return t[0]})),l=o.map((function(t){return[+t[1],+t[2],+t[3],+t[4]]}));console.log("calculateMA",o);var s={legend:{data:["日K","MA5","MA10","MA20","MA30"],inactiveColor:"#777"},tooltip:{trigger:"axis",axisPointer:{animation:!1,type:"cross",lineStyle:{color:"#376df4",width:2,opacity:1}}},xAxis:{type:"category",data:i,axisLine:{lineStyle:{color:"#8392A5"}}},yAxis:{scale:!0,axisLine:{lineStyle:{color:"#8392A5"}},splitLine:{show:!1}},grid:{bottom:80},dataZoom:[{textStyle:{color:"#8392A5"},handleIcon:"path://M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",dataBackground:{areaStyle:{color:"#8392A5"},lineStyle:{opacity:.8,color:"#8392A5"}},brushSelect:!0},{type:"inside"}],series:[{type:"candlestick",name:"Day",data:l,itemStyle:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"},markPoint:{data:[{name:"最大值",coord:["2021-01-08",3570],value:"2021-01-08"}],symbolSize:100,label:{color:"#ffffff",formatter:function(t){return null!=t?t.value:""}}}},{name:"MA5",type:"line",data:r(5,l),smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA10",type:"line",data:r(10,l),smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA20",type:"line",data:r(20,l),smooth:!0,showSymbol:!1,lineStyle:{width:1}},{name:"MA30",type:"line",data:r(30,l),smooth:!0,showSymbol:!1,lineStyle:{width:1}}]};e.default={klineInit:function(){var t=document.getElementById("kline2");echarts.init(t,"dark").setOption(s)}}},DLhF:function(t,e,a){(e=a("JPst")(!1)).push([t.i,".kline2 nav[data-v-b0c2dfe4]{background-color:#100c2a;padding:20px 10px}\n",""]),t.exports=e},HmW5:function(t,e,a){"use strict";a("QUxR")},QUxR:function(t,e,a){var n=a("LboF"),o=a("DLhF");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var r={insert:"head",singleton:!1};n(o,r);t.exports=o.locals||{}},nZXo:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}));var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"kline2"},[e("nav",{staticClass:"flex-c"},[e("div",{staticClass:"flex-item"}),t._v(" "),e("div",{staticClass:"r"},[e("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:t.region,callback:function(e){t.region=e},expression:"region"}},[e("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),e("el-option",{attrs:{label:"区域二",value:"beijing"}})],1),t._v(" "),e("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.daterange,callback:function(e){t.daterange=e},expression:"daterange"}}),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)]),t._v(" "),e("div",{staticClass:"kline-box",staticStyle:{height:"75vh"},attrs:{id:"kline2"}})])},o=[]},"xX+7":function(t,e,a){"use strict";a.r(e);var n=a("+oLw"),o=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e.default=o.a}}]);
//# sourceMappingURL=63.4911f37b0ccec2b3a09f.js.map