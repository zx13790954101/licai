(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"01q3":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateStopLoss2=t.dealData=t.num2=t.btn_array2=t.switchUrlDeal=t.dealFundCode=t.urlDeal10=t.urlDeal=t.urlDeal2=t.urlDeal3=t.urlDeal4=t.urlDeal5=t.urlDeal6=t.urlDeal7=t.urlDeal8=t.urlDeal9=t.urlDeal11=t.urlDeal12=void 0;var n,r=a("m1cH"),i=(n=r)&&n.__esModule?n:{default:n},s=a("T1iS"),l=a("a09z");t.urlDeal12=function(e){return'https://datacenter-web.eastmoney.com/api/data/v1/get?reportName=RPT_DMSK_TS_STOCKEVALUATE&filter=(SECURITY_CODE="'+e+'")&columns=ALL&source=WEB&client=WEB&sortColumns=TRADE_DATE&sortTypes=-1'},t.urlDeal11=function(e){return"https://www.iwencai.com/diag/block-detail?pid=11665&codes="+e+'&codeType=stock&info={"view":{"nolazy":1,"parseArr":{"_v":"new","dateRange":[],"staying":[],"queryCompare":[],"comparesOfIndex":[]},"asyncParams":{"tid":137}}}'};var o=t.urlDeal9=function(e){return"https://data.eastmoney.com/stockcomment/api/"+e+".json"},u=t.urlDeal8=function(e){return"https://datacenter-web.eastmoney.com/api/data/v1/get?filter=(SECURITY_CODE%3D%22601318%22)&columns=ALL&source=WEB&client=WEB&reportName=RPT_CUSTOM_STOCK_PK"},f=t.urlDeal7=function(e){var t=-1!=e.indexOf("002")||-1!=e.indexOf("300")||-1!=e.indexOf("000")?0:1;return-1!=e.indexOf("600")&&(t=1),"https://push2.eastmoney.com/api/qt/stock/fflow/kline/get?lmt=0&klt=1&fields1=f1,f2,f3,f7&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61,f62,f63,f64,f65&secid="+t+"."+e},c=t.urlDeal6=function(e,t,a){var n=-1!=e.indexOf("002")||-1!=e.indexOf("300")||-1!=e.indexOf("000")?0:1;-1!=e.indexOf("600")&&(n=1),-1!=e.indexOf("00000")&&(n=1),-1!=e.indexOf("0000")&&(n=1);var r="https://push2his.eastmoney.com/api/qt/stock/fflow/daykline/get?lmt=0&klt="+t+"&fields1=f1,f2,f3,f7&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61,f62,f63,f64,f65&secid="+n+"."+e;return a&&(r="https://push2.eastmoney.com/api/qt/ulist.np/get?fltt=2&secids="+n+"."+e+"&fields=f61,f62,f184,f66,f69,f72,f75,f78,f81,f84,f87,f64,f65,f70,f71,f76,f77,f82,f83,f164,f166,f168,f170,f172,f252,f253,f254,f255,f256,f124,f6,f278,f279,f280,f281,f282"),r},d=t.urlDeal5=function(e){return"https://www.iwencai.com/diag/block-detail?pid=8093&codes="+e+'&codeType=stock&info={"view":{"nolazy":1,"parseArr":{"_v":"new","dateRange":[],"staying":[],"queryCompare":[],"comparesOfIndex":[]},"asyncParams":{"tid":137}}}'},p=t.urlDeal4=function(e){return"https://data.eastmoney.com/stockcomment/stock/"+e+".html#zlkp"},h=t.urlDeal3=function(e){return"https://www.iwencai.com/stockpick/search?typed=1&preParams=&ts=1&f=1&qs=index_rewrite&selfsectsn=&querytype=stock&searchfilter=&tid=stockpick&w="+e},m=t.urlDeal2=function(e){return"https://www.iwencai.com/diag/block-detail?pid=10331&codes="+e+'&codeType=stock&info={"view":{"nolazy":1,"parseArr":{"_v":"new","dateRange":[],"staying":[],"queryCompare":[],"comparesOfIndex":[]},"asyncParams":{"tid":137}}}'},y=t.urlDeal=function(e,t,a){var n=-1!=e.indexOf("002")||-1!=e.indexOf("300")||-1!=e.indexOf("000")?0:1;return-1!=e.indexOf("600")&&(n=1),"https://push2his.eastmoney.com/api/qt/stock/kline/get?secid="+n+"."+e+"&fields1=f1,f2,f3,f4,f5&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&lmt="+(1==parseInt(t)?362:145)+"&klt=10"+t+"&fqt=1&end=30000101"},_=t.urlDeal10=function(e){return"https://push2his.eastmoney.com/api/qt/stock/kline/get?secid=1.000001&fields1=f1,f2,f3,f4,f5&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&lmt=100&klt=101&fqt=1&end=30000101"},g=t.dealFundCode=function(e){var t=null;switch(e){case"600519":t=l.bj_day;break;case"603259":t=l.yl_day;break;case"601318":t=l.bxzt_day;break;case"601012":t=l.gf_day;break;case"601898":t=l.mt_day;break;case"002371":t=l.xp_day;break;case"300274":t=l.xnyc_day;break;case"300750":t=l.xny_day;break;case"600048":t=l.fdc_day}return t},x=t.switchUrlDeal=function(e,t,a){if(""==t)return"";var n="";switch(e){case 1:n=y(t,a);break;case 2:n=m(t);break;case 3:n=h(t);break;case 4:n=p(t);break;case 5:n=d(t);break;case 6:n=c(t,a);break;case 7:n=f(t);break;case 8:n=u(t);break;case 9:n=o(t);break;case 10:n=_(t)}return n},v=t.btn_array2=[{name:"中国平安",tip:"保险主题",num:"601318"},{name:"隆基绿能",tip:"光伏",num:"601012"},{name:"中煤能源",tip:"煤炭",num:"601898"},{name:"贵州茅台",tip:"白酒",num:"600519"},{name:"药明康德",tip:"医疗",num:"603259"},{name:"北方华创",tip:"芯片",num:"002371"},{name:"阳光电源",tip:"新能源",num:"300274"},{name:"宁德时代",tip:"电池",num:"300750"},{name:"保利发展",tip:"房地产",num:"600048"}];function b(e,t){var a=void 0,n={"Y+":t.getFullYear().toString(),"m+":(t.getMonth()+1).toString(),"d+":t.getDate().toString(),"H+":t.getHours().toString(),"M+":t.getMinutes().toString(),"S+":t.getSeconds().toString()};for(var r in n)(a=new RegExp("("+r+")").exec(e))&&(e=e.replace(a[1],1==a[1].length?n[r]:n[r].padStart(a[1].length,"0")));return e}t.num2=362;var k=t.dealData=function(e,a,n,r,i,s){var l=[],o=[],u=[];return t.num2=e.length+1,e.forEach((function(e,t){1==a?(l.push(parseFloat(e[6].toFixed(2))),o.push(b("YYYY-mm-dd",new Date(1e3*e[9]))),u.push(parseFloat(e[1]))):2==a?(l.push(parseFloat(e.split(",")[8])),o.push(e.split(",")[0]),6==r?u.push(parseFloat((parseInt(e.split(",")[r])/1e8).toFixed(2))):u.push(parseFloat(e.split(",")[r]))):3==a?(l.push(t+1),o.push(b("YYYY-mm-dd",new Date(1e3*e[9]))),u.push(parseFloat(e[1]))):4==a?u.push(parseFloat((parseInt(e.split(",")[r])/1e8).toFixed(2))):5==a&&u.push(parseFloat(e.split(",")[r]))})),{name:n,num:u,time:o,array:l,type_echarts:null==i?void 0:"bar",itemStyle:null==s?void 0:2}};function w(e,t,a){var n=e.slice(t+1,a+1),r=n.reduce((function(e,t){return parseFloat(e)+parseFloat(t)}));return r=(r/n.length).toFixed(2)}function D(e){for(var t=[],a=0;a<20;a++)t.push(e);return t}var S=t.calculateStopLoss2=function(e,t,a,n,r){var l=(0,s.calculateMA)(5,e[0].klines),o=(0,s.calculateMA)(10,e[0].klines),u=(0,s.calculateMA)(20,e[0].klines),f=(0,s.calculateMA)(30,e[0].klines),c=(0,s.calculateMA)(60,e[0].klines),d=k(t,2,"最高值",3).num,p=k(t,2,"最低值",4).num,h=k(t,2,"当前值",2).num,m=r,y=""==n?m[m.length-1]:n,_=m[m.indexOf(y)-20],g=w(d,_=m.indexOf(_)+1,y=m.indexOf(y)+1),x=w(p,_,y),v=w(h,_,y),b=function(e,t,a,n,r,s){for(var l=[],o=[],u=[],f=[],c=[],d=[],p=[],h=[],m=n,y=r,_=0;_<s-20;_++){var g=w(e,m=n-_,y=r-_),x=w(t,m,y),v=w(a,m,y);l.push(g),o.push(x),u.push(v),f.push(parseFloat(.95*g).toFixed(2)),c.push(parseFloat(.618*(g-x)+parseFloat(x)).toFixed(2));var b=Math.max.apply(Math,(0,i.default)(e.slice(y-20,y)));b=b==-1/0?parseFloat(d.slice(-1)[0]).toFixed(2):b;var k=Math.min.apply(Math,(0,i.default)(t.slice(y-20,y)));k=k==1/0?parseFloat(p.slice(-1)[0]):k,d.push(b),p.push(k),h.push(.618*(b-k)+k)}return{max_array:l,min_array:o,this_array:u,zcw3:h.concat(D(h[h.length-1])),zsw_array:f.concat(D(f[f.length-1])),zcw_array:c.concat(D(c[c.length-1])),max_num1:d.concat(D(d[d.length-1])),min_num1:p.concat(D(p[p.length-1]))}}(d,p,h,_,y,m.length);return{this_data:m,max_data_array:g,min_data_array:x,this_data_array:v,ma5:l,ma10:o,ma20:u,ma30:f,ma60:c,this_data_num:h,max_data_num:d,min_data_num:p,array_data:[l[l.length-1],o[o.length-1],u[u.length-1],f[f.length-1],c[c.length-1],h[h.length-1]],array_end:t,deal_data2:b}};t.default={calculateStopLoss2:S,btn_array2:v,dealFundCode:g,dealData:k,switchUrlDeal:x,urlDeal9:o,urlDeal8:u,urlDeal7:f,urlDeal6:c,urlDeal5:d,urlDeal4:p,urlDeal3:h,urlDeal2:m,urlDeal:y}},"0vEa":function(e,t,a){var n=a("LboF"),r=a("aBuI");"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},Adj4:function(e,t,a){"use strict";a.r(t);var n=a("vKx1"),r=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t.default=r.a},F08s:function(e,t,a){"use strict";a("0vEa")},T1iS:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateMA=function(e,t){var a,n=[];t=function(e){for(var t=[],a=[],n=[],r=[],i=[],s=[],l=0;l<e.length;l++)t.push(e[l]),a.push(e[l].splice(0,1)[0]),n.push(e[l][4]),r.push(e[l][6]),i.push(e[l][7]),s.push(e[l][8]);return{datas:t,times:a,vols:n,macds:r,difs:i,deas:s}}((a=[],t.forEach((function(e,t){var n=[(e=e.split(","))[0],parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4]),parseFloat(e[5]),parseFloat(e[1])-parseFloat(e[2])>0?0:1];a.push(n)})),a));for(var r=0,i=t.times.length;r<i;r++)if(r<e)n.push("-");else{for(var s=0,l=0;l<e;l++)s+=t.datas[r-l][1];n.push((s/e).toFixed(2))}return n}},YGYv:function(e,t,a){"use strict";a.r(t);var n=a("jLl/"),r=a("Adj4");for(var i in r)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("F08s");var s=a("KHd+"),l=Object(s.a)(r.default,n.a,n.b,!1,null,"a002894a",null);t.default=l.exports},a09z:function(e,t,a){"use strict";function n(e,t){return"https://push2his.eastmoney.com/api/qt/stock/kline/get?secid="+e+"&fields1=f1,f2,f3,f4,f5&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&lmt=1550&klt=10"+t+"&fqt=1&end=30000101"}Object.defineProperty(t,"__esModule",{value:!0});t.bxzt_month=n("0.399809","3"),t.bxzt_day=n("0.399809","1"),t.bxzt_week=n("0.399809","2"),t.zzyh_day=n("0.399986","1"),t.zzyh_week=n("0.399986","2"),t.zzyh_month=n("0.399986","3"),t.gf_day=n("2.931151","1"),t.gf_week=n("2.931151","2"),t.gf_month=n("2.931151","3"),t.xnyc_day=n("0.399417","1"),t.xnyc_week=n("0.399417","2"),t.xnyc_month=n("0.399417","3"),t.xp_day=n("0.980017","1"),t.xp_week=n("0.980017","2"),t.xp_month=n("0.980017","3"),t.jg_day=n("0.399959","1"),t.jg_week=n("0.399809","2"),t.jg_month=n("0.399809","3"),t.qc_day=n("2.931008","1"),t.qc_week=n("2.931008","2"),t.qc_month=n("2.931008","3"),t.bj_day=n("0.399997","1"),t.bj_week=n("0.399997","2"),t.bj_month=n("0.399997","3"),t.yl_day=n("0.399989","1"),t.yl_week=n("0.399989","2"),t.yl_month=n("0.399989","3"),t.mt_day=n("0.399998","1"),t.mt_week=n("0.399998","2"),t.mt_month=n("0.399998","3"),t.xny_day=n("1.000941","1"),t.xny_week=n("1.000941","2"),t.xny_month=n("1.000941","3"),t.fdc_day=n("1.515060","1"),t.fdc_week=n("1.515060","2"),t.fdc_month=n("1.515060","3"),t.urlDeal=function(e,t,a){var n=-1!=e.indexOf("002")||-1!=e.indexOf("300")||-1!=e.indexOf("000")?0:1;-1!=e.indexOf("600")&&(n=1),-1!=e.indexOf("399")&&(n=0),-1!=e.indexOf("NDX")&&(n=100),-1!=e.indexOf("HSTECH")&&(n=124);return-1!=e.indexOf("000001")&&(n=1),"https://push2his.eastmoney.com/api/qt/stock/kline/get?secid="+n+"."+e+"&fields1=f1,f2,f3,f4,f5&fields2=f51,f52,f53,f54,f55,f56,f57,f58,f59,f60,f61&lmt=895&klt=10"+t+"&fqt=1&end=30000101"}},aBuI:function(e,t,a){(t=a("JPst")(!1)).push([e.i,".histogram[data-v-a002894a]{width:100%}.histogram nav[data-v-a002894a]{background-color:#555;padding:2px 10px;color:white;font-size:12px;font-weight:600}.histogram nav button[data-v-a002894a]{background-color:#f5deb300;color:white;font-size:12px;border:0px;padding:2px;border-radius:2px;border-bottom:1px solid white}.histogram .histogram_box[data-v-a002894a]{width:500px;height:320px}\n",""]),e.exports=t},"jLl/":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));var n=function(){var e=this._self._c;return e("div",{staticClass:"histogram",class:"histogram"+this.name},[e("div",{staticClass:"histogram_box",style:{height:this.height1,width:this.width2},attrs:{id:"histogram"+this.name}})])},r=[]},m1cH:function(e,t,a){"use strict";t.__esModule=!0;var n,r=a("rfXi"),i=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return(0,i.default)(e)}},vKx1:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _toConsumableArray2=__webpack_require__("m1cH"),_toConsumableArray3=_interopRequireDefault(_toConsumableArray2),_typeof2=__webpack_require__("EJiy"),_typeof3=_interopRequireDefault(_typeof2),_from=__webpack_require__("rfXi"),_from2=_interopRequireDefault(_from),_jquery=__webpack_require__("EVdn"),_jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default={data:function(){return{datalist1:null,width2:"1400px"}},created:function(){},props:{visualMap:Array,name:String,timeData:Array,markLine:Array,areaStyle:Array,markPoint:null,listData:Array,title:String,link:String,height1:String,width1:String,typeline:String,thame:String,type_echarts:String,head:{type:Boolean,default:!0},dataZoom:{type:Boolean,default:!0},dataZoomStart:String,legend1:Object},components:{},mounted:function(){var e=this;this.$nextTick((function(){e.width2=document.querySelector(".histogram"+e.name).offsetWidth+"px",setTimeout((function(){e.init1()}),1e3)}))},watch:{listData:{immediate:!0,deep:!0,handler:function(e){var t=this;setTimeout((function(){t.init1()}),2e3)}}},methods:{openWin:function(){window.open(this.link,"top")},init1:function(){var e=this,t=this,a=document.getElementById("histogram"+this.name),n=null!=this.thame?this.thame:"light",r=echarts.init(a,n),i=[],s=[],l=[];this.listData.forEach((function(a,n){var r=null==a.itemStyle?"":{normal:{color:function(e){return e.value>0?"#f72c5b":"#7cffb2"}}};""==r&&null!=a.linestylecolor&&(r=a.linestylecolor);var o={name:a.name,type:a.type_echarts?"bar":"line",yAxisIndex:null!=a.yAxisIndex?0:n,data:a.num,areaStyle:null!=e.areaStyle?e.areaStyle[n]:void 0,markLine:null!=e.markLine?e.markLine[n]:void 0,markPoint:null!=e.markPoint?e.markPoint[n]:void 0,itemStyle:r,visualMap:null!=e.visualMap?e.visualMap[n]:void 0};if(1==e.typeline&&(o.yAxisIndex=null),a.type&&"category"==a.type){var u=(0,_from2.default)(Array(t.timeData.length-1),(function(e,t){return null}));o={type:"bar",stack:"total",label:{show:!0},itemStyle:{color:"#f4433605"},emphasis:{focus:"series"},data:u.concat([a.yAxis[2]])},i.push(o),o={type:"bar",stack:"total",label:{show:!0,formatter:((a.yAxis[1]-a.yAxis[2]).toFixed(2)/a.yAxis[1]*100).toFixed(2)+"%"},itemStyle:{color:"#4caf50"},emphasis:{focus:"series"},data:u.concat([(a.yAxis[1]-a.yAxis[2]).toFixed(2)])},i.push(o),o={type:"bar",stack:"total",label:{show:!0,formatter:((a.yAxis[0]-a.yAxis[1]).toFixed(2)/a.yAxis[1]*100).toFixed(2)+"%"},itemStyle:{color:"#f44336"},emphasis:{focus:"series"},data:u.concat([(a.yAxis[0]-a.yAxis[1]).toFixed(2)])},i.push(o)}else i.push(o);var f={type:"value",scale:!0,position:0==n?"left":"right",alignTicks:!0,axisLine:{show:!0}};a.type&&"category"==a.type&&(f={type:"value"}),0==a.setmin&&(f.min=a.setmin,f.max=a.setmax),s.push(f);var c={type:"category",boundaryGap:!1,axisTick:{show:!1},data:t.timeData,splitLine:{show:!0,lineStyle:{}}};l.push(c)}));var o={dataZoom:[{textStyle:{color:"#8392A5"},handleIcon:"path://M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4v1.3h1.3v-1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7V23h6.6V24.4z M13.3,19.6H6.7v-1.4h6.6V19.6z",dataBackground:{areaStyle:{color:"#8392A5"},lineStyle:{opacity:.8,color:"#8392A5"}},brushSelect:!0,start:null==this.dataZoomStart?90:this.dataZoomStart,end:100},{type:"inside",start:null==this.dataZoomStart?90:this.dataZoomStart,end:100}],toolbox:{show:!0,feature:{brush:{show:!0,title:{lineX:"框选计算",clear:"关闭框选"}},saveAsImage:{show:!0}},top:0,right:15,itemSize:20},legend:null!=this.legend1?this.legend1:{},tooltip:{trigger:"axis",axisPointer:{type:"cross"},brush:{type:["lineX","clear"]},position:function(e,t,a,n,r){var i={top:10};return i[["left","right"][+(e[0]<r.viewSize[0]/2)]]=30,i}},brush:{toolbox:["lineX","clear"],xAxisIndex:0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.2)",borderColor:"rgba(120,140,180,0.8)"}},xAxis:l[0],grid:{y:0,top:40,left:50,right:this.listData.length>1?100:10},yAxis:s,series:i};o&&"object"===(void 0===o?"undefined":(0,_typeof3.default)(o))&&(r.setOption(o,!0),r.on("brushSelected",(function(e){if(e.batch.length<1||e.batch[0].areas.length<1)(0,_jquery2.default)("#brushData").html("");else{var a=e.batch[0].areas[0].coordRange;a[a.length-1]=a[a.length-1]+1;for(var n=[],i=[],s=[],o=[],u=e.batch[0],f=0;f<u.selected.length;f++){var c,d,p=u.selected[f].seriesName,h=(c=r.getOption().series[f].data).slice.apply(c,(0,_toConsumableArray3.default)(a)),m=(d=l[0].data).slice.apply(d,(0,_toConsumableArray3.default)(a)),y="";if(h.length<1||m.length<1)return;if(1===m.length)y=m[0];else{var _=m.findIndex((function(e){return e===m[0]})),g=m.findIndex((function(e){return e===m[m.length-1]}));y=m[0]+"至"+m[m.length-1]+"\n"+(g-_)+"天"}var x=t.SumNum(h)?t.SumNum(h):0;"每日涨跌"==p&&(x=t.dealInfow(h));var v=t.AverageNum(h)?t.AverageNum(h):0;s.push(x),o.push(v),i.push(p);var b=p+":日均值:"+v.toFixed(0)+"，涨跌幅："+x+" \n\n";n.push(b)}var k=y+"\n"+n.join("");(0,_jquery2.default)("#brushData").html(k),r.setOption({title:{backgroundColor:"#333",text:k,bottom:0,right:"10%",width:100,textStyle:{fontSize:12,color:"#fff"}}})}})))},dealInfow:function dealInfow(data){var item1=[],item2=[],item3=[];data.forEach((function(e,t){data.length-1!=t&&(e>=0?item1.push(e):item2.push(e),item3.push(e))}));var sum=eval(item3.join("+"));return sum/=item3.length,"平均值:"+sum.toFixed(2)+"涨:"+item1.length+"天跌"+item2.length+"天"},AverageNum:function AverageNum(arr){var sum=eval(arr.join("+")),svg=sum/arr.length*100/100;return svg},SumNum:function(e){return((parseFloat(e[e.length-4])-parseFloat(e[0]))/e[0]*100).toFixed(2)}}}}}]);
//# sourceMappingURL=2.746aa7508b8f043dcebf.js.map