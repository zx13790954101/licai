{"version":3,"sources":["webpack:///./src/view/kline.vue?3d19","webpack:///./src/assets/img/ml.png","webpack:///./src/view/kline.vue?2e1c","webpack:///./src/view/kline.vue?66bb","webpack:///./src/view/kline.vue?f09b","webpack:///src/view/kline.vue","webpack:///./src/view/kline.vue?aa3e","webpack:///./src/assets/img/bg1.png","webpack:///./src/assets/kline/echarts1.js","webpack:///./src/view/kline.vue"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","i","render","_vm","this","_c","_self","staticClass","attrs","on","download","_v","ref","staticRenderFns","api","content","__esModule","default","options","locals","data","created","components","mounted","style","document","createElement","methods","element","getElementById","offsetWidth","html2canvas","scale","useCORS","body","appendChild","creatDom","href","dataURL","click","macd","calcEMA","calcDIF","calcDEA","calcMACD","splitData","rawData","datas","times","vols","macds","difs","deas","length","splice","calculateMA","dayCount","result","len","sum","j","toFixed","n","field","l","ema","a","short","long","dif","emaShort","emaLong","mid","dea","name","date1","date2","htmlobj","data2","array1","jsondata","$","ajax","url","async","JSON","parse","responseText","forEach","item","item1","open","close","low","high","date","num","dealDataTo","option","title","text","left","top","tooltip","trigger","axisPointer","type","formatter","param","axisValue","value","legend","grid","right","height","xAxis","index","parseFloat","boundaryGap","axisLine","onZero","splitLine","show","splitNumber","min","max","gridIndex","axisLabel","yAxis","splitArea","axisTick","dataZoom","xAxisIndex","start","end","series","itemStyle","normal","color","color0","borderColor","borderColor0","markPoint","label","e","console","log","markLine","smooth","lineStyle","opacity","yAxisIndex","params","dataIndex","klineInit","dom","echarts","init","setOption","component"],"mappings":"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","file":"static/js/60.26944bd516a6844e072f.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".kline p[data-v-5d75042b]{background-color:white}.kline h1[data-v-5d75042b]{background-color:white}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = __webpack_public_path__ + \"static/img/ml.d30ca21.png\";","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"kline\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.download}},[_vm._v(\"导出图片\")]),_vm._v(\" \"),_c('div',{ref:\"content\",staticClass:\"content1\",attrs:{\"id\":\"content1\"}},[_c('p',[_vm._v(\"ssssss\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"./../assets/img/bg1.png\")}}),_vm._v(\" \"),_c('p',[_vm._v(\"ssssss\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"./../assets/img/bg1.png\")}}),_vm._v(\" \"),_c('p',[_vm._v(\"ssssss\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"./../assets/img/bg1.png\")}}),_vm._v(\" \"),_c('p',[_vm._v(\"ssssss\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"./../assets/img/bg1.png\")}}),_vm._v(\" \"),_c('p',[_vm._v(\"ssssss\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"./../assets/img/bg1.png\")}}),_vm._v(\" \"),_c('p',[_vm._v(\"ssssss\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"./../assets/img/bg1.png\")}}),_vm._v(\" \"),_c('h1',[_vm._v(\"sssssssssssssssssssssssssssss\")]),_vm._v(\" \"),_c('img',{attrs:{\"src\":require(\"./../assets/img/ml.png\")}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kline.vue?vue&type=style&index=0&id=5d75042b&prod&scoped=true&lang=scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","export * from \"-!../../node_modules/style-loader/dist/cjs.js!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kline.vue?vue&type=style&index=0&id=5d75042b&prod&scoped=true&lang=scss\"","<template>\r\n  <div class=\"kline\">\r\n     <el-button size=\"mini\" type=\"primary\" plain @click=\"download\">导出图片</el-button>\r\n\r\n     <div ref=\"content\" class=\"content1\" id=\"content1\">\r\n          <p>ssssss</p>\r\n          <img src=\"./../assets/img/bg1.png\">\r\n              <p>ssssss</p>\r\n          <img src=\"./../assets/img/bg1.png\">\r\n              <p>ssssss</p>\r\n          <img src=\"./../assets/img/bg1.png\">\r\n              <p>ssssss</p>\r\n          <img src=\"./../assets/img/bg1.png\">\r\n              <p>ssssss</p>\r\n          <img src=\"./../assets/img/bg1.png\">\r\n              <p>ssssss</p>\r\n          <img src=\"./../assets/img/bg1.png\">\r\n          <h1>sssssssssssssssssssssssssssss</h1>\r\n              <img src=\"./../assets/img/ml.png\">\r\n     </div>\r\n\r\n    <!-- <div id=\"kline\" class=\"kline-box\"  style=\"height: 140vh\"></div> -->\r\n    \r\n  </div>\r\n</template>\r\n<script>\r\nimport $ from \"jquery\";\r\n\r\n//import html2canvas from 'html2canvas'\r\nimport kline from \"./../assets/kline/echarts1.js\";\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  created() {},\r\n  components: {},\r\n  mounted() {\r\n    // this.$nextTick(() => {\r\n    //   setTimeout(function () {\r\n    //     kline.klineInit();\r\n    //   }, 2000);\r\n    // });\r\n    var style = document.createElement('style');\r\nstyle.type = 'text/css';\r\nstyle.innerHTML = '* { -webkit-text-size-adjust: none; }';\r\ndocument.getElementsByTagName('head')[0].appendChild(style);\r\n  },\r\n  methods: {\r\n // 第二种方式直接下载图片\r\n    download() {\r\n      var element = document.getElementById(\"content1\");\r\n      // 定义canvas大小\r\n      var canvasWidth = element.offsetWidth/2;\r\n      var canvasHeight =  element.offsetHeight/2;\r\n      const ref = this.$refs.content // 截图区域\r\n      html2canvas(ref, {\r\n//         width: canvasWidth,\r\n// height: canvasHeight,\r\nscale:0.8,\r\n        useCORS: true // 如果截图的内容里有图片,可能会有跨域的情况,加上这个参数,解决文件跨域问题\r\n      }).then((canvas) => {\r\n\r\n        // var extra_canvas = document.createElement(\"canvas\");\r\n        //         extra_canvas.setAttribute('width',canvasWidth/2);\r\n        //         extra_canvas.setAttribute('height',canvasHeight/2);\r\n        //         var ctx = extra_canvas.getContext('2d');\r\n        //         ctx.drawImage(canvas,0,0,canvas.width/2, canvas.height/2,0,0,70,70);\r\n\r\n        const dataURL = canvas.toDataURL('image/png')\r\n        const creatDom = document.createElement('a')\r\n        document.body.appendChild(creatDom)\r\n        creatDom.href = dataURL\r\n        creatDom.download = '图片'\r\n        creatDom.click()\r\n      })\r\n    }\r\n\r\n  },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.kline {\r\n  p{\r\n    background-color: white;\r\n  }\r\n  h1{\r\n      background-color: white;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kline.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kline.vue?vue&type=script&lang=js\"","module.exports = __webpack_public_path__ + \"static/img/bg1.2907143.png\";","//数据模型 time0 open1 close2 min3 max4 vol5 tag6 macd7 dif8 dea9\r\n//  日期        五日线\r\n//现在还要计算  柱子的颜色，和    macd  dif  dea\r\n//['2015-10-19',18.56,18.25,18.19,18.56,55.00,0,-0.00,0.08,0.09]\r\n//数据的模拟\r\n\r\nimport $ from \"jquery\";\r\nvar data = splitData([  ['2015-10-16', 18.4, 18.58, 18.33, 18.79, 67.00, 1, 0.04, 0.11, 0.09]]);\r\n\r\n\r\n//数组处理\r\nfunction splitData (rawData) {\r\n  var datas = [];\r\n  var times = [];\r\n  var vols = [];\r\n  var macds = []; var difs = []; var deas = [];\r\n  for (var i = 0; i < rawData.length; i++) {\r\n    datas.push(rawData[i]);\r\n    times.push(rawData[i].splice(0, 1)[0]);\r\n    vols.push(rawData[i][4]);\r\n    macds.push(rawData[i][6]);\r\n    difs.push(rawData[i][7]);\r\n    deas.push(rawData[i][8]);\r\n  }\r\n  return {\r\n    datas: datas,\r\n    times: times,\r\n    vols: vols,\r\n    macds: macds,\r\n    difs: difs,\r\n    deas: deas\r\n  };\r\n}\r\n//处理数据而\r\nfunction splitData2 (rawData) {\r\n  const categoryData = [];\r\n  const values = [];\r\n  for (var i = 0; i < rawData.length; i++) {\r\n    categoryData.push(rawData[i].splice(0, 1)[0]);\r\n    values.push(rawData[i]);\r\n  }\r\n  return {\r\n    categoryData: categoryData,\r\n    values: values,\r\n  };\r\n}\r\n//分段计算\r\nfunction fenduans () {\r\n  var markLineData = [];\r\n  var idx = 0; var tag = 0; var vols = 0;\r\n  for (var i = 0; i < data.times.length; i++) {\r\n    //初始化数据\r\n    if (data.datas[i][5] != 0 && tag == 0) {\r\n      idx = i; vols = data.datas[i][4]; tag = 1;\r\n    }\r\n    if (tag == 1) { vols += data.datas[i][4]; }\r\n    if (data.datas[i][5] != 0 && tag == 1) {\r\n      markLineData.push([{\r\n        xAxis: idx,\r\n        yAxis: data.datas[idx][1] > data.datas[idx][0] ? (data.datas[idx][3]).toFixed(2) : (data.datas[idx][2]).toFixed(2),\r\n        value: vols\r\n      }, {\r\n        xAxis: i,\r\n        yAxis: data.datas[i][1] > data.datas[i][0] ? (data.datas[i][3]).toFixed(2) : (data.datas[i][2]).toFixed(2)\r\n      }]);\r\n      idx = i; vols = data.datas[i][4]; tag = 2;\r\n    }\r\n\r\n    //更替数据\r\n    if (tag == 2) { vols += data.datas[i][4]; }\r\n    if (data.datas[i][5] != 0 && tag == 2) {\r\n      markLineData.push([{\r\n        xAxis: idx,\r\n        yAxis: data.datas[idx][1] > data.datas[idx][0] ? (data.datas[idx][3]).toFixed(2) : (data.datas[idx][2]).toFixed(2),\r\n        value: (vols / (i - idx + 1)).toFixed(2) + ' M'\r\n      }, {\r\n        xAxis: i,\r\n        yAxis: data.datas[i][1] > data.datas[i][0] ? (data.datas[i][3]).toFixed(2) : (data.datas[i][2]).toFixed(2)\r\n      }]);\r\n      idx = i; vols = data.datas[i][4];\r\n    }\r\n  }\r\n  return markLineData;\r\n}\r\n\r\n//MA计算公式\r\nfunction calculateMA (dayCount) {\r\n  var result = [];\r\n  for (var i = 0, len = data.times.length; i < len; i++) {\r\n    if (i < dayCount) {\r\n      result.push('-');\r\n      continue;\r\n    }\r\n    var sum = 0;\r\n    for (var j = 0; j < dayCount; j++) {\r\n      sum += data.datas[i - j][1];\r\n    }\r\n    result.push((sum / dayCount).toFixed(2));\r\n  }\r\n  return result;\r\n}\r\n\r\n\r\nvar input, macd;\r\nvar calcEMA, calcDIF, calcDEA, calcMACD;\r\n/*\r\n * K线数据\r\n * 开盘价，收盘价，最低价，最高价\r\n */\r\n/*\r\n * 计算EMA指数平滑移动平均线，用于MACD\r\n * @param {number} n 时间窗口\r\n * @param {array} data 输入数据\r\n * @param {string} field 计算字段配置\r\n */\r\ncalcEMA = function (n, data, field) {\r\n  var i, l, ema, a;\r\n  a = 2 / (n + 1);\r\n  if (field) {\r\n    //二维数组\r\n    ema = [data[0][field]];\r\n    for (i = 1, l = data.length; i < l; i++) {\r\n      ema.push(a * data[i][field] + (1 - a) * ema[i - 1]);\r\n    }\r\n  } else {\r\n    //普通一维数组\r\n    ema = [data[0]];\r\n    for (i = 1, l = data.length; i < l; i++) {\r\n      ema.push(a * data[i] + (1 - a) * ema[i - 1]);\r\n    }\r\n  }\r\n  return ema;\r\n};\r\n\r\n\r\n/*\r\n * 计算DIF快线，用于MACD\r\n * @param {number} short 快速EMA时间窗口\r\n * @param {number} long 慢速EMA时间窗口\r\n * @param {array} data 输入数据\r\n * @param {string} field 计算字段配置\r\n */\r\ncalcDIF = function (short, long, data, field) {\r\n  var i, l, dif, emaShort, emaLong;\r\n  dif = [];\r\n  emaShort = calcEMA(short, data, field);\r\n  emaLong = calcEMA(long, data, field);\r\n  for (i = 0, l = data.length; i < l; i++) {\r\n    dif.push(emaShort[i] - emaLong[i]);\r\n  }\r\n  return dif;\r\n};\r\n\r\n/*\r\n* 计算DEA慢线，用于MACD\r\n* @param {number} mid 对dif的时间窗口\r\n* @param {array} dif 输入数据\r\n*/\r\ncalcDEA = function (mid, dif) {\r\n  return calcEMA(mid, dif);\r\n};\r\n\r\n/*\r\n* 计算MACD\r\n* @param {number} short 快速EMA时间窗口\r\n* @param {number} long 慢速EMA时间窗口\r\n* @param {number} mid dea时间窗口\r\n* @param {array} data 输入数据\r\n* @param {string} field 计算字段配置\r\n*/\r\ncalcMACD = function (short, long, mid, data, field) {\r\n  var i, l, dif, dea, macd, result;\r\n  result = {};\r\n  macd = [];\r\n  dif = calcDIF(short, long, data, field);\r\n  dea = calcDEA(mid, dif);\r\n  for (i = 0, l = data.length; i < l; i++) {\r\n    macd.push((dif[i] - dea[i]) * 2);\r\n  }\r\n  result.dif = dif;\r\n  result.dea = dea;\r\n  result.macd = macd;\r\n  return result;\r\n};\r\n\r\nfunction dealDataTo (data) {\r\n  let array1 = [];\r\n  data.forEach(item => {\r\n\r\n    let item1 = {\r\n      open: item[1],\r\n      close: item[2],\r\n      low: item[3],\r\n      high: item[4],\r\n      date: item[0],\r\n      num: item[5]\r\n    }\r\n    array1.push(item1)\r\n  });\r\n  return array1\r\n}\r\n\r\nfunction dealEndData (data1, data2) {\r\n  let array1 = [];\r\n  data1.forEach((item, index) => {\r\n    let item1 = [\r\n      item[0],\r\n      parseFloat(item[1]),\r\n      parseFloat(item[2]),\r\n      parseFloat(item[3]),\r\n      parseFloat(item[4]),\r\n      parseFloat(item[5]),\r\n      parseFloat(item[1]) - parseFloat(item[2]) > 0 ? 0 : 1,\r\n      data2.macd[index],\r\n      data2.dif[index],\r\n      data2.dea[index],\r\n    ]\r\n    array1.push(item1)\r\n  });\r\n  return array1\r\n}\r\n\r\n//获取大盘指数\r\nfunction getMarketData (name, date1, date2) {\r\n  var htmlobj = $.ajax({\r\n    url:\r\n      'https://api.doctorxiong.club/v1/stock/kline/day?code=' +\r\n      name +\r\n      '&startDate=' +\r\n      date1 +\r\n      '&endDate=' +\r\n      date2,\r\n    async: false,\r\n  });\r\n\r\n  return JSON.parse(htmlobj.responseText).data\r\n}\r\n//当前的时间\r\n//var this_date = new Date(yyyy,mth,dd);\r\n\r\nvar jsondata = getMarketData('sh000001', '2021-01-01', '2022-03-09')\r\nmacd = calcMACD(12, 26, 9, dealDataTo(jsondata), \"close\");\r\n\r\n// console.log(data)\r\n// console.log(splitData(dealEndData(jsondata, macd)))\r\ndata = splitData(dealEndData(jsondata, macd))\r\n\r\n\r\n\r\n\r\nvar option = {\r\n  title: [\r\n    {\r\n      text: 'K线周期图表(matols.com)',\r\n      left: 0\r\n    },\r\n    {\r\n      text: '买入卖出量',\r\n      left: 0,\r\n      top:610\r\n    },{\r\n      text: 'macd',\r\n      left: 0,\r\n      top:780\r\n    },\r\n  ], \r\n  tooltip: {\r\n    trigger: 'axis',\r\n    axisPointer: {\r\n      type: 'line'\r\n    },\r\n    // backgroundColor: 'rgba(50,50,50,0.7)', // 提示框浮层的背景颜色。\r\n    // borderColor: '#333', // 提示框浮层的边框颜色。\r\n    formatter: function (param) {\t//自定义tooltip内容 \r\n      // console.log(\"param\", param)\r\n      if (param.length > 4) {\r\n        var html2 = param[0].axisValue + '<br>'\r\n          + '今日:' + param[0].data[2] + '<br>'\r\n          + '开盘价：' + param[0].data[1] + '<br>'\r\n          + '收盘价：' + param[0].data[2] + '<br>'\r\n          + '最高价：' + param[0].data[3] + '<br>'\r\n          + '最低价：' + param[0].data[4] + '<br>'\r\n          + '5日线:' + param[1].value + '<br>'\r\n          + '10日线:' + param[2].value + '<br>'\r\n          + '20日线:' + param[3].value + '<br>'\r\n          + '30日线:' + param[4].value\r\n        return html2;\r\n      }\r\n\r\n    }\r\n  },\r\n  legend: {\r\n    data: ['KLine', 'MA5', 'MA10', 'MA20', 'MA30']\r\n  },\r\n  //调整位置\r\n  grid: [{\r\n    left: '9%',\r\n    right: '5%',\r\n    height: '60%'\r\n  }, {\r\n    left: '9%',\r\n    right: '5%',\r\n    top: '69%',\r\n    height: '7%'\r\n  }, {\r\n    left: '9%',\r\n    right: '5%',\r\n    top: '82%',\r\n    height: '12%'\r\n  }],\r\n  xAxis: [{\r\n    type: 'category',\r\n    data: data.times,\r\n    scale: true,\r\n    boundaryGap: false,\r\n    axisLine: { onZero: false },\r\n    splitLine: { show: false },\r\n    splitNumber: 20,\r\n    min: 'dataMin',\r\n    max: 'dataMax'\r\n  }, {\r\n    type: 'category',\r\n    gridIndex: 1,\r\n    data: data.times,\r\n    axisLabel: { show: false }\r\n  }, {\r\n    type: 'category',\r\n    gridIndex: 2,\r\n    data: data.times,\r\n    axisLabel: { show: false }\r\n  }],\r\n  yAxis: [{\r\n    scale: true,\r\n    splitArea: {\r\n      show: false\r\n    }\r\n  }, {\r\n    gridIndex: 1,\r\n    splitNumber: 3,\r\n    axisLine: { onZero: false },\r\n    axisTick: { show: false },\r\n    splitLine: { show: false },\r\n    axisLabel: { show: true }\r\n  }, {\r\n    gridIndex: 2,\r\n    splitNumber: 4,\r\n    axisLine: { onZero: false },\r\n    axisTick: { show: false },\r\n    splitLine: { show: false },\r\n    axisLabel: { show: true }\r\n  }],\r\n  dataZoom: [{\r\n    type: 'inside',\r\n    xAxisIndex: [0, 0],\r\n    start: 20,\r\n    end: 100\r\n  }, {\r\n    show: true,\r\n    xAxisIndex: [0, 1],\r\n    type: 'slider',\r\n    top: '95%',\r\n    start: 20,\r\n    end: 100\r\n  }, {\r\n    show: false,\r\n    xAxisIndex: [0, 2],\r\n    type: 'slider',\r\n    start: 20,\r\n    end: 100\r\n  }],\r\n  series: [{\r\n    name: 'K线周期图表(matols.com)',\r\n    type: 'candlestick',\r\n    data: data.datas,\r\n    itemStyle: {\r\n      normal: {\r\n        color: '#ef232a',\r\n        color0: '#14b143',\r\n        borderColor: '#ef232a',\r\n        borderColor0: '#14b143'\r\n      }\r\n    },\r\n    // markArea: {\r\n    //   silent: true,\r\n    //   itemStyle: {\r\n    //     normal: {\r\n    //       color: 'Honeydew'\r\n    //     }\r\n    //   },\r\n    //   data: fenduans()\r\n    // },\r\n    markPoint: {\r\n      data: [\r\n        { name: '最大值',value:3544.48,xAxis:'auto',yAxis:'3544.48' },\r\n        // { type: 'max', name: '最大值' },\r\n        // { type: 'min', name: '最小值' }\r\n      ],\r\n      label: {\r\n        formatter: function (e) {\r\n             console.log(\"markpoint\",e)\r\n            return '{c}'\r\n        }\r\n      }\r\n    },\r\n    //文字\r\n    markLine: {\r\n      // label: {\r\n      //   normal: {\r\n      //     position: 'middle',\r\n      //     textStyle: { color: 'Blue', fontSize: 0 }\r\n      //   }\r\n      // },\r\n      // data: fenduans(),\r\n      // symbol: ['circle', 'none']\r\n\r\n    }\r\n  }, {\r\n    name: 'MA5',\r\n    type: 'line',\r\n    data: calculateMA(5),\r\n    smooth: true,\r\n    lineStyle: {\r\n      normal: {\r\n        opacity: 1\r\n      }\r\n    }\r\n  }, {\r\n    name: 'MA10',\r\n    type: 'line',\r\n    data: calculateMA(10),\r\n    smooth: true,\r\n    lineStyle: {\r\n      normal: {\r\n        opacity: 1\r\n      }\r\n    }\r\n  }, {\r\n    name: 'MA20',\r\n    type: 'line',\r\n    data: calculateMA(20),\r\n    smooth: true,\r\n    lineStyle: {\r\n      normal: {\r\n        opacity: 1\r\n      }\r\n    }\r\n  }, {\r\n    name: 'MA30',\r\n    type: 'line',\r\n    data: calculateMA(30),\r\n    smooth: true,\r\n    lineStyle: {\r\n      normal: {\r\n        opacity: 1\r\n      }\r\n    }\r\n  }, {\r\n    name: 'Volumn',\r\n    type: 'bar',\r\n    xAxisIndex: 1,\r\n    yAxisIndex: 1,\r\n    data: data.vols,\r\n    itemStyle: {\r\n      normal: {\r\n        color: function (params) {\r\n          var colorList;\r\n          if (data.datas[params.dataIndex][1] > data.datas[params.dataIndex][0]) {\r\n            colorList = '#ef232a';\r\n          } else {\r\n            colorList = '#14b143';\r\n          }\r\n          return colorList;\r\n        },\r\n      }\r\n    }\r\n  }, {\r\n    name: 'MACD',\r\n    type: 'bar',\r\n    xAxisIndex: 2,\r\n    yAxisIndex: 2,\r\n    data: data.macds,\r\n    itemStyle: {\r\n      normal: {\r\n        color: function (params) {\r\n          var colorList;\r\n          if (params.data >= 0) {\r\n            colorList = '#ef232a';\r\n          } else {\r\n            colorList = '#14b143';\r\n          }\r\n          return colorList;\r\n        },\r\n      }\r\n    }\r\n  }, {\r\n    name: 'DIF',\r\n    type: 'line',\r\n    xAxisIndex: 2,\r\n    yAxisIndex: 2,\r\n    data: data.difs\r\n  }, {\r\n    name: 'DEA',\r\n    type: 'line',\r\n    xAxisIndex: 2,\r\n    yAxisIndex: 2,\r\n    data: data.deas\r\n  }\r\n  ]\r\n};\r\n\r\n\r\n\r\n//\r\n//data=getMarketData('sh000001','2021-12-01', '2022-01-27')\r\n\r\n\r\nfunction klineInit () {\r\n  //  开盘 ，收盘价  最高 ，最低\r\n  var dom = document.getElementById('kline');\r\n  var myChart = echarts.init(dom, 'dark');\r\n  //设置开启深色模式\r\n  myChart.setOption(option);\r\n}\r\n\r\nexport default {\r\n  klineInit\r\n}\r\n","import { render, staticRenderFns } from \"./kline.vue?vue&type=template&id=5d75042b&scoped=true\"\nimport script from \"./kline.vue?vue&type=script&lang=js\"\nexport * from \"./kline.vue?vue&type=script&lang=js\"\nimport style0 from \"./kline.vue?vue&type=style&index=0&id=5d75042b&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d75042b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}